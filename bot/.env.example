# VULTR Liquidation Bot Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# Required
# =============================================================================

# Path to your bot wallet keypair JSON file
# This wallet must match pool.bot_wallet on-chain
WALLET_PATH=/path/to/your/keypair.json

# VULTR Pool address (required)
# This is the Pool PDA address from your deployment
# The bot wallet must be authorized as pool.bot_wallet
POOL_ADDRESS=YOUR_POOL_ADDRESS_HERE

# =============================================================================
# Network Configuration
# =============================================================================

# Solana RPC endpoint (use a private RPC for better performance)
RPC_URL=https://api.mainnet-beta.solana.com

# WebSocket endpoint for real-time updates
WS_URL=wss://api.mainnet-beta.solana.com

# =============================================================================
# VULTR Configuration
# =============================================================================

# VULTR program ID (simplified design with record_profit)
VULTR_PROGRAM_ID=7EhoUeYzjKJB27aoMA4tXoLc9kj6bESVyzwjsN2rUbAe

# Deposit token mint (USDC on mainnet)
DEPOSIT_MINT=EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v

# =============================================================================
# Liquidation Settings
# =============================================================================

# Minimum profit in basis points (50 = 0.5%)
MIN_PROFIT_BPS=50

# Maximum position size to liquidate (in base units, e.g., 1M USDC = 1000000000000)
MAX_POSITION_SIZE=1000000000000

# Polling interval in milliseconds
POLL_INTERVAL_MS=1000

# =============================================================================
# Jito MEV Protection
# =============================================================================

# Use Jito bundles for MEV protection (true/false)
USE_JITO=true

# Jito tip amount in lamports
JITO_TIP_LAMPORTS=10000

# Jito block engine URL
JITO_BLOCK_ENGINE_URL=https://mainnet.block-engine.jito.wtf

# =============================================================================
# Retry and Rate Limiting
# =============================================================================

# Minimum time between RPC calls in milliseconds
RPC_RATE_LIMIT_MS=100

# Maximum retry attempts for RPC calls
RPC_MAX_RETRIES=5

# Initial backoff delay for retries in milliseconds
RPC_BACKOFF_MS=500

# Maximum retry attempts for transaction confirmations
TX_CONFIRM_MAX_RETRIES=30

# Timeout for transaction confirmations in milliseconds
TX_CONFIRM_TIMEOUT_MS=60000

# =============================================================================
# Operation Mode
# =============================================================================

# Dry run mode - simulate but don't execute (true/false)
DRY_RUN=true

# Log level (debug, info, warn, error)
LOG_LEVEL=info

# =============================================================================
# Setup Instructions
# =============================================================================
#
# 1. Deploy VULTR pool contract using Anchor
# 2. Note your Pool PDA address from deployment
# 3. Set POOL_ADDRESS to your Pool PDA
# 4. Set WALLET_PATH to your bot wallet keypair
# 5. Ensure pool.bot_wallet matches your bot wallet on-chain
# 6. Fund your bot wallet with SOL for transaction fees
# 7. Run: npm start
#
# Execution Flow:
# 1. Bot monitors Marginfi for underwater positions
# 2. Bot executes Marginfi liquidation directly (receives collateral)
# 3. Bot swaps collateral to USDC via Jupiter
# 4. Bot calls VULTR record_profit to distribute earnings
#    - 80% goes to depositors (vault)
#    - 15% goes to stakers (staking rewards)
#    - 5% goes to treasury
